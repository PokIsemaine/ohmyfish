# 第5章 网络层：控制平面

## 路由选择算法

### 路由的概念

![image-20220711131339403](https://s2.loli.net/2022/07/11/wtrNh17McLA6Gm5.png)

![image-20220711131406139](https://s2.loli.net/2022/07/11/ZOHnFKyczQaSeVU.png)



![image-20220711131452923](https://s2.loli.net/2022/07/11/LpVZu43coKWyMsw.png)

### 路由的原则

![image-20220711131527210](https://s2.loli.net/2022/07/11/ohZNn8jD7faMyWT.png)

![image-20220711131542682](https://s2.loli.net/2022/07/11/PFmHb3wYIExgGip.png)

### 路由算法的分类

![image-20220711131557152](https://s2.loli.net/2022/07/11/3J6Aix5eyKpEXVf.png)

### link state

![image-20220711132842933](https://s2.loli.net/2022/07/11/34UiobqYyhzZmB6.png)

![image-20220711132917807](https://s2.loli.net/2022/07/11/qXKsW3U6ywRBJNk.png)

![image-20220711132954972](https://s2.loli.net/2022/07/11/Pv2FMiJkSgnoTZC.png)

![image-20220711133053817](https://s2.loli.net/2022/07/11/LAvEyUZ3zuSQkKs.png)



![image-20220711133140133](https://s2.loli.net/2022/07/11/w58TG9XZbYa4jyJ.png)

![image-20220711133211817](https://s2.loli.net/2022/07/11/VJO6X7btSFMvhTk.png)

![image-20220711133242800](https://s2.loli.net/2022/07/11/jSsx5O1NIA6ozne.png)

![image-20220711153512777](https://s2.loli.net/2022/07/11/8kYSszZC2QeTINq.png)

### distance vector

![image-20220711153858621](https://s2.loli.net/2022/07/11/xj93V6PuDmXe7si.png)

![image-20220711154225332](https://s2.loli.net/2022/07/11/De8zEO9jbMlLCmX.png)

![image-20220711154246837](https://s2.loli.net/2022/07/11/jUdoYBLaIQyDX2q.png)

![image-20220711154306824](https://s2.loli.net/2022/07/11/M1cdRISrLtVQwP7.png)

![image-20220711154319224](https://s2.loli.net/2022/07/11/Pm7st6jzarTxD4c.png)

![image-20220711154642406](https://s2.loli.net/2022/07/11/I4olwvDrdjYsUZ3.png)



![image-20220711155118323](https://s2.loli.net/2022/07/11/omWRqu1ZhiDr7fM.png)

![image-20220711155139092](https://s2.loli.net/2022/07/11/o7BMgqUcQrTn18t.png)

![image-20220711155159618](https://s2.loli.net/2022/07/11/WZGFRT37wzp4QYu.png)

**DV 的特点**

![image-20220711154723329](https://s2.loli.net/2022/07/11/IFBo7cfajTC3ZGs.png)

坏消息要通过很多次迭代，可能经过很多环路才能得知不可达

![image-20220711154747116](https://s2.loli.net/2022/07/11/9gjXDpibo35esn7.png)

解决方案：水平分裂算法、

![image-20220711155505464](https://s2.loli.net/2022/07/11/IlOsp6W9vXxGPKD.png)

![image-20220711155523459](https://s2.loli.net/2022/07/11/tr2QBZ45mkSxhLY.png)

![image-20220711155538829](https://s2.loli.net/2022/07/11/CEw3JHNdQSpbhLf.png)

### LS 和 DV 算法比较

![image-20220711154446353](https://s2.loli.net/2022/07/11/YvQWOBuURkMAXh4.png)

## 因特网中自治系统内部的路由选择



## ISP 之间的路由选择



## SDN 控制平面



## ICMP 因特网控制报文协议



## 网络管理和 SNMP