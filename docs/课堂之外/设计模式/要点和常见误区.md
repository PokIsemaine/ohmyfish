# 要点和常见误区

记录学习过程中的一些要点和过去的错误理解

### 一个目标

* 管理变化，提高复用

### 两种手段

* 分解
* 抽象

### 八大原则

* 依赖倒置（DIP）
* 开放封闭原则（OCP）
* 单一职责原则（SRP）
* Liskov 替换原则（LSP）
* 接口隔离原则（ISP）
* 优先使用对象组合，而不是类继承
* 封装变化点
* 针对接口编程，而不是针对实现编程

### 重构技法

* 静态->动态
* 早绑定->晚绑定
* 继承->组合
* 编译时依赖->运行时依赖
* 紧耦合->松耦合

### 什么时候不用设计模式

* 代码可读性很差时
* 需求理解还很浅时
* 变化没有显现时
* 不是系统的关键依赖点
* 项目没有复用价值时
* 项目将要发布时

### 经验之谈

* 不要为模式而模式
* 关注抽象类&接口
* 理清变化点和稳定点
* 审视依赖关系
* 要有`Framework`和`Application`的区隔思维
* 良好的设计是演化的结果

### 设计模式成长之路

* 见模式而不知
* 可以识别模式，作为应用开发人员使用模式
* 作为框架开发人员为应用设计某些模式
* 忘掉模式，只有原则

### Other

* 面向对象最大优势是抵御变化，**关键是稳定的部分和变化的部分**，然后将变化隔离起来。如果碰到了极端情况，整个体系当中全都是变化的没有稳定的，那么设计模式是没什么用的；同理，如果整个体系当中都是稳定的，那么也就没必要采用设计模式了
* 稳定和变化的概念是相对的，如果A是一年变化一次，B是一个月变化一次，那么A相对B而言就是稳定的
* 我们应该根据设计原则来对设计模式进行区分，而不是代码
* 重构获得模式
* 设计模式当中所谓的复用是编译单元的复用，是二进制级别的复用，而不是源代码片段级别的复用
* 我们要具有时间轴的动态思维，有些问题在静态视角下是无法暴露出来的
* 当我们对一个现有设计做评判或改进的时候，我们应该考虑它是否违反了一些设计原则，而不是考虑应该用哪个设计模式
* 软件开发领域的各种理论要映射到代码上，无法映射到代码上的理论很难称之为理论，talk is cheap show me the code
* 实际上我们的面向对象设计模式很多时候并不能消灭变化，但是我们可以把变化赶到某一个局部的地方，隔离变化

