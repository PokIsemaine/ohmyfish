# Mediator

## 动机

- 在软件构建过程中经常出现，**多个对象相互关联的情况，对象之间常常会维持一种复杂的引用关系**，如果遇到一些需求的更改，这种直接的引用关系将面临不断的变化。
- 在这种情况下，可以使用一种”中介对象“来管理对象间的关联关系，避免相互交互的对象之间的紧耦合引用关系，从而更好地抵御变化。

## 模式定义

用一个中介对象来封装(封装变化)一系列的对象交互。中介者使各对象不需要显式的相互引用(编译时依赖->运行时依赖)， 从而使其耦合松散(管理变化)，并且可以独立地改变它们之间的交互。 ——《设计模式》GoF



## 结构设计

![image-20220212224402231](https://s2.loli.net/2022/02/12/ZKRFscTu7eiIN8U.png)

其实就下面这个图的意思，直接依赖变为双向的间接依赖

![image-20220212224320148](https://s2.loli.net/2022/02/12/9WXIMGAJhlcbR1U.png)





## 要点总结

- 将多个对象间复杂的关联关系解耦，Mediator模式将多个对象间 的控制逻辑进行集中管理（可能要定义各种调用、通信机制的协议），变“多个对象互相关联”为“多个对象 和一个中介者关联 简化了系统的维护，抵御了可能的变化。 
- 随着控制逻辑的复杂化，Mediator具体对象的实现可能相当复杂。 这时候可以对Mediator对象进行分解处理。 
- Facade模式是解耦系统间（单向）的对象关联关系；Mediator模 式是解耦系统内各个对象之间（双向）的关联关系。